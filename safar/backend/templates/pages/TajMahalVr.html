<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taj Mahal VR Experience - Safar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 5%;
            background: linear-gradient(90deg, #4b6cb7 0%, #182848 100%);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        .logo-container { display: flex; align-items: center; gap: 10px; }
        .logo-img { height: 50px; filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)); }
        .site-name { font-size: 28px; font-weight: 700; color: white; }
        .nav { display: flex; gap: 20px; }
        .nav a {
            text-decoration: none;
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
        }
        .nav a:hover { background: rgba(255, 255, 255, 0.2); transform: translateY(-3px); }
        .nav a.active { background: #FF6B6B; }

        .vr-container {
            padding: 120px 5% 50px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .vr-header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInUp 0.8s ease-out;
        }
        
        .vr-header h1 {
            font-size: 2.5rem;
            color: #182848;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }
        
        .vr-header h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: #FF6B6B;
            border-radius: 2px;
        }
        
        .vr-header p {
            font-size: 1.2rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Enhanced VR Launch Section */
        .vr-launch-section {
            background: linear-gradient(135deg, #182848 0%, #4b6cb7 100%);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .vr-launch-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1564507592333-c60657eea523') center/cover;
            opacity: 0.15;
            z-index: 0;
        }
        
        .vr-launch-content {
            position: relative;
            z-index: 1;
        }
        
        .vr-instructions h2 {
            color: white;
            margin-bottom: 20px;
            font-size: 2rem;
        }
        
        .vr-instructions p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.8;
            margin-bottom: 30px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .vr-button {
            background: white;
            color: #182848;
            border: none;
            padding: 18px 50px;
            font-size: 1.3rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 15px;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .vr-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }
        
        .vr-button i {
            font-size: 1.8rem;
        }
        
        .vr-device-support {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .vr-device {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .vr-device i {
            color: #FF6B6B;
        }
        
        .info-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }
        
        .info-section h2 {
            color: #182848;
            margin-bottom: 20px;
            font-size: 1.8rem;
            position: relative;
            padding-bottom: 10px;
        }
        
        .info-section h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: #FF6B6B;
            border-radius: 2px;
        }
        
        .taj-image {
            width: 100%;
            height: 250px;
            border-radius: 15px;
            object-fit: cover;
            margin-bottom: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .info-content p {
            color: #555;
            line-height: 1.8;
            margin-bottom: 15px;
        }
        
        .info-highlights {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .info-highlights h3 {
            color: #182848;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .info-highlights ul {
            list-style-type: none;
        }
        
        .info-highlights li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-highlights li:last-child {
            border-bottom: none;
        }
        
        .info-highlights i {
            color: #FF6B6B;
        }
        
        .footer {
            background: linear-gradient(90deg, #182848 0%, #4b6cb7 100%);
            color: white;
            padding: 50px 10% 20px;
            text-align: center;
            margin-top: 50px;
        }
        
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .social-icons a {
            color: white;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .social-icons a:hover { 
            transform: translateY(-5px); 
            color: #FF6B6B;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @media (max-width: 768px) {
            .vr-header h1 {
                font-size: 2rem;
            }
            
            .vr-button {
                padding: 15px 30px;
                font-size: 1.1rem;
            }
            
            .vr-instructions h2 {
                font-size: 1.5rem;
            }
        }

        #bgVideo {
  position: fixed;
  top: 0;
  left: 0;
  min-width: 100%;
  min-height: 100%;
  object-fit: cover;
  z-index: -1;
  opacity: 0.75; /* Adjust opacity as needed */
}
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo-container">
            <img src="{{ url_for('static', filename='safar-logo.png') }}" class="logo-img">
            <span class="site-name">Safar</span>
        </div>
        <nav class="nav">
            <!-- Home -->
            <a href="{{ url_for('home') }}" class="{% if request.endpoint == 'home' %}active{% endif %}">Home</a>
        
            <!-- Destinations (logged-in vs logged-out) -->
            <a href="{% if session.get('email') %}{{ url_for('destinationstwo') }}{% else %}{{ url_for('destinations') }}{% endif %}" 
               class="{% if request.endpoint in ['destinations', 'destinationstwo'] %}active{% endif %}">
                Destinations
            </a>
        
            <!-- About -->
            <a href="{{ url_for('about') }}" class="{% if request.endpoint == 'about' %}active{% endif %}">About</a>
        
            <!-- Login or Profile Icon -->
            {% if session.get('email') %}
                <a href="{{ url_for('profile') }}" class="{% if request.endpoint == 'profile' %}active{% endif %}" title="Profile">
                    <i class="fas fa-user-circle profile-icon"></i>
                </a>
            {% else %}
                <a href="{{ url_for('login') }}" class="{% if request.endpoint == 'login' %}active{% endif %}">Login</a>
            {% endif %}
        </nav>
        
    </header>

    <video autoplay muted loop id="bgVideo">
        <source src="{{ url_for('static', filename='Videos/Tajmahal.mp4') }}" type="video/mp4">
        Your browser does not support HTML5 video.
      </video>

    <div class="vr-container">
        <div class="vr-header">
            <h1>Taj Mahal VR Experience</h1>
            <p>Immerse yourself in the breathtaking beauty of the Taj Mahal through our virtual reality experience</p>
        </div>
        
        <!-- Enhanced VR Launch Section -->
        <div class="vr-launch-section">
            <div class="vr-launch-content">
                <div class="vr-instructions">
                    <h2>Step Into the Taj Mahal</h2>
                    <p>Experience the wonder of one of the world's most magnificent structures in stunning virtual reality. Walk through the majestic gates, explore the intricate marble inlays, and witness the Taj Mahal as if you were really there.</p>
                </div>
                
                <button class="vr-button" onclick="launchVRExperience()">
                    <i class="fas fa-vr-cardboard"></i> Launch VR Experience
                </button>
                
                <div class="vr-device-support">
                    <div class="vr-device">
                        <i class="fas fa-mobile-alt"></i> Smartphones
                    </div>
                    <div class="vr-device">
                        <i class="fas fa-desktop"></i> Desktop
                    </div>
                    <div class="vr-device">
                        <i class="fas fa-vr-cardboard"></i> VR Headsets
                    </div>
                </div>
                
                <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                    For best experience, use Chrome, Firefox or Edge on a WebXR compatible device
                </p>
            </div>
        </div>
        
        <div class="info-section">
            <h2>About the Taj Mahal</h2>
            <img src="https://images.unsplash.com/photo-1564507592333-c60657eea523" alt="Taj Mahal" class="taj-image">
            
            <div class="info-content">
                <p>The Taj Mahal is an ivory-white marble mausoleum on the southern bank of the Yamuna river in the Indian city of Agra. It was commissioned in 1632 by the Mughal emperor Shah Jahan to house the tomb of his favorite wife, Mumtaz Mahal; it also houses the tomb of Shah Jahan himself.</p>
                
                <div class="info-highlights">
                    <h3>Key Information</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> <strong>Location:</strong> Agra, Uttar Pradesh, India</li>
                        <li><i class="fas fa-calendar-alt"></i> <strong>Built:</strong> 1632-1653</li>
                        <li><i class="fas fa-archway"></i> <strong>Architectural Style:</strong> Mughal architecture</li>
                        <li><i class="fas fa-arrows-alt"></i> <strong>Dimensions:</strong> 73m height, 580m x 305m complex</li>
                        <li><i class="fas fa-landmark"></i> <strong>UNESCO:</strong> World Heritage Site since 1983</li>
                    </ul>
                </div>
                
                <h3>Geographical Significance</h3>
                <p>The Taj Mahal is located on the right bank of the Yamuna River in a vast Mughal garden that encompasses nearly 17 hectares. The location was chosen for its scenic beauty and proximity to Agra Fort, where Shah Jahan was later imprisoned by his son Aurangzeb.</p>
                
                <h3>Architectural Marvel</h3>
                <p>The Taj Mahal incorporates and expands on design traditions of Persian architecture and earlier Mughal architecture. The tomb is the central focus of the entire complex. Its marble dome is the most spectacular feature, often called the "onion dome" due to its shape.</p>
                
                <h3>Cultural Importance</h3>
                <p>Recognized as the jewel of Muslim art in India and one of the universally admired masterpieces of the world's heritage, the Taj Mahal attracts 7-8 million visitors annually. It was designated as a UNESCO World Heritage Site in 1983 for being "the jewel of Muslim art in India and one of the universally admired masterpieces of the world's heritage".</p>
            </div>
        </div>
    </div>
    
    <footer class="footer">
        <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
        <p>© 2025 Safar - VR Travel Experiences. All Rights Reserved.</p>
    </footer>

    <script>
        // Check if user is logged in
        const user = JSON.parse(localStorage.getItem('user'));
        if (!email) {
            window.location.href = '/login';
        }
        
        // Enhanced VR experience launch with device detection
        function launchVRExperience() {
            if (navigator.xr) {
                navigator.xr.isSessionSupported('immersive-vr').then((supported) => {
                    if (supported) {
                        // Full VR experience available
                        window.location.href = '/tajmahal_vrlaunch?mode=vr';
                    } else {
                        // Fallback to 360° view
                        if (confirm('Your device doesn\'t support full VR. Would you like to experience a 360° view instead?')) {
                            window.location.href = '/tajmahal_vrlaunch?mode=360';
                        }
                    }
                });
            } else {
                // No WebXR support at all
                if (confirm('Your browser doesn\'t support WebXR. Would you like to try a basic 360° view?')) {
                    window.location.href = '/tajmahal_vrlaunch?mode=360';
                }
            }
        }
        
        // Show device compatibility info
        function showDeviceInfo() {
            const info = {
                isMobile: /Mobi|Android/i.test(navigator.userAgent),
                isIOS: /iPad|iPhone|iPod/.test(navigator.userAgent),
                isAndroid: /Android/.test(navigator.userAgent),
                hasWebXR: !!navigator.xr
            };
            
            console.log('Device Info:', info);
        }
        
        // Check on page load
        window.addEventListener('load', showDeviceInfo);
    </script>
</body>
</html>